<% if @codes.any? %>
  <% for code in @codes do %>
    <div class="code--block center-page">
      <div class="code--title">
        <%= link_to code.name, code_path(code) %>
        <span class="code-actions"><%= link_to "Raw", code_raw_path(code) %>
        <%= link_to "Download", download_code_path(code) %></span>
      </div>
      <div class="code--body">
        <%= link_to "", code_path(code), :class => "link-overlay" %>
        <%= raw code.preview %>
      </div>
      <div class="code--foot">
        <ul class="code-tags">
          <% code.tag_list.map do |t| %>
            <li><%= link_to t, code_tag_path(t) %></li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>
<% elsif @params %>
  <h2>No tags under: <em><%= @params.join(", ") %></em></h2>
<% else %>
  <h2>Nothing here</h2>
  <p>Well, not <em>yet.</em></p>
  <p>Want to contribute some code? I'll add the ability to do that in the future.<br />For now, email: ( me [at] mattboldt [dot] com )</p>
<% end %>